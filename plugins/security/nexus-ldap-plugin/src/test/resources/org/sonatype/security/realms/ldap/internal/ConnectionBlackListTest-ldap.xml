<?xml version="1.0" encoding="UTF-8"?>
<ldapConfiguration>
  <version>2.0.1</version>
  <servers>
  
  <server>
      <id>default</id>
      <name>ldap://localhost:${default-ldap-port}</name>
      <connectionInfo>
        <searchBase>o=sonatype</searchBase>
        <systemUsername>uid=admin,ou=system</systemUsername>
        <systemPassword>secret</systemPassword>
        <authScheme>simple</authScheme>
        <protocol>ldap</protocol>
        <host>localhost</host>
        <port>${default-ldap-port}</port>
        <connectionTimeout>1</connectionTimeout>
        <connectionRetryDelay>7</connectionRetryDelay>
        <cacheTimeout>0</cacheTimeout>
      </connectionInfo>
      <userAndGroupConfig>
        <emailAddressAttribute>mail</emailAddressAttribute>
        <ldapGroupsAsRoles>true</ldapGroupsAsRoles>
        <groupBaseDn>ou=groups</groupBaseDn>
        <groupIdAttribute>cn</groupIdAttribute>
        <userMemberOfAttribute>businesscategory</userMemberOfAttribute>
        <groupMemberFormat>cn=${username},ou=groups,o=sonatype</groupMemberFormat>
        <groupObjectClass>organizationalRole</groupObjectClass>
        <userPasswordAttribute>userPassword</userPasswordAttribute>
        <preferredPasswordEncoding>clear</preferredPasswordEncoding>
        <userIdAttribute>uid</userIdAttribute>
        <userObjectClass>inetOrgPerson</userObjectClass>
        <userBaseDn>ou=people</userBaseDn>
        <userRealNameAttribute>sn</userRealNameAttribute>
      </userAndGroupConfig>
    </server>
  
  </servers>
</ldapConfiguration>
